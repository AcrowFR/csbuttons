// VERSION: 1.2 LAST UPDATE: 12.09.2016 - Made by Mathieu ORLANDO, contact@acrow.fr, Acrow, FRANCE - http://csbuttons.acrow.fr/
!function(a){a.fn.cSButtons=function(b){var c={url:null,type:"facebook",txt:null,via:null,count:!1,count_position:"right",apikey:null,media:null,lang:null,total:null},d=a.extend(c,b),e=0,f=this.length,g=0,h=0;return this.each(function(){g++;var b=void 0!=a(this).attr("data-url")&&""!=a(this).attr("data-url")?a(this).attr("data-url"):d.url,c=void 0!=a(this).attr("data-type")&&""!=a(this).attr("data-type")?a(this).attr("data-type"):d.type,i=void 0!=a(this).attr("data-txt")&&""!=a(this).attr("data-txt")?a(this).attr("data-txt"):d.txt,j=void 0!=a(this).attr("data-via")&&""!=a(this).attr("data-via")?a(this).attr("data-via"):d.via,k=void 0!=a(this).attr("data-count")&&""!=a(this).attr("data-count")?a(this).attr("data-count"):d.count,l=void 0!=a(this).attr("data-count-position")&&""!=a(this).attr("data-count-position")?a(this).attr("data-count-position"):d.count_position,m=void 0!=a(this).attr("data-apikey")&&""!=a(this).attr("data-apikey")?a(this).attr("data-apikey"):d.apikey,n=void 0!=a(this).attr("data-media")&&""!=a(this).attr("data-media")?a(this).attr("data-media"):d.media,o=void 0!=a(this).attr("data-lang")&&""!=a(this).attr("data-lang")?a(this).attr("data-lang"):d.lang,p=0,q=0,r="";switch(b=null!=b?b:document.URL,$URL=b,k&&("left"==l?a(this).prepend('<span class="csbuttons-count" />'):a(this).append('<span class="csbuttons-count" />')),c){case"twitter":var s=a(this);p=550,q=420,r=null!=i?"https://twitter.com/intent/tweet?original_referer="+encodeURIComponent(document.URL)+"&text="+encodeURIComponent(i)+"&url="+encodeURIComponent(b):"https://twitter.com/intent/tweet?original_referer="+encodeURIComponent(document.URL)+"&url="+encodeURIComponent(b),r=null!=j?r+"&via="+j:r,k&&(a("span.csbuttons-count",s).text(0),a.getJSON("http://public.newsharecounts.com/count.json?url="+$URL,function(b){a("span.csbuttons-count",s).text(b.count),e+=isNaN(parseInt(b.count))?0:parseInt(b.count),null!=d.total&&g==f&&a(d.total).text(e)}));break;case"google":var t=a(this);h++,p=600,q=600,r="https://plus.google.com/share?url="+b,r=null!=o?r+"&hl="+o:r,k&&(a("span.csbuttons-count",t).text(0),null!=m?a.post("https://clients6.google.com/rpc?key="+m,{method:"pos.plusones.get",id:"p",params:{nolog:!0,id:$URL,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"},function(b){a("span.csbuttons-count",t).text(b.result.metadata.globalCounts.count),e+=isNaN(parseInt(b.result.metadata.globalCounts.count))?0:parseInt(b.result.metadata.globalCounts.count),null!=d.total&&g==f&&a(d.total).text(e)}):(window["gplus"+h]=t,window.services||(window.services={}),window.services.gplus={cb:function(a){window["gplusnb"+h]=""==a?0:a}},a.getJSON("http://share.yandex.ru/gpp.xml?url="+$URL+"&callback=?",function(b){var c=b.replace("/**/ typeof  === 'function' && (\"","");c=c.replace('");',""),a("span.csbuttons-count",t).text(b),e+=isNaN(parseInt(b))?0:parseInt(b),null!=d.total&&g==f&&a(d.total).text(e)})));break;case"linkedin":var u=a(this);p=600,q=213,r="https://www.linkedin.com/cws/share?url="+b,k&&(a("span.csbuttons-count",u).text(0),a.getJSON("http://www.linkedin.com/countserv/count/share?url="+$URL+"&callback=?",function(b){a("span.csbuttons-count",u).text(b.count),e+=isNaN(parseInt(b.count))?0:parseInt(b.count),null!=d.total&&g==f&&a(d.total).text(e)}));break;case"pinterest":var v=a(this);p=1e3,q=617,r="http://www.pinterest.com/pin/create/button/?url="+b,r=null!=n?r+"&media="+n:r,r=null!=i?r+"&description="+i:r,k&&(a("span.csbuttons-count",v).text(0),a.getJSON("https://api.pinterest.com/v1/urls/count.json?url="+$URL+"&callback=?",function(b){a("span.csbuttons-count",v).text(b.count),e+=isNaN(parseInt(b.count))?0:parseInt(b.count),null!=d.total&&g==f&&a(d.total).text(e)}));break;default:var w=a(this);p=670,q=340,r="https://www.facebook.com/sharer/sharer.php?u="+b,k&&(a("span.csbuttons-count",w).text(0),a.getJSON("http://graph.facebook.com/?id="+$URL,function(b){a("span.csbuttons-count",w).text(b.share.share_count),e+=isNaN(parseInt(b.share.share_count))?0:parseInt(b.share.share_count),null!=d.total&&g==f&&a(d.total).text(e)}))}a(this).on("click tap",function(){var a=screen.width/2-p/2,b=screen.height/2-q/2;popupWindow=window.open(r,"popUpWindow","height="+q+",width="+p+",left="+a+",top="+b+",resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=no,directories=no,status=yes")})})}}(jQuery);
