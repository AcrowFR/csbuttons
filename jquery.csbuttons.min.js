// VERSION: 1.2 LAST UPDATE: 14.12.2016 - Made by Mathieu ORLANDO, contact@acrow.fr, Acrow, FRANCE - http://csbuttons.acrow.fr/
!function(t){t.fn.cSButtons=function(a){var n=navigator.userAgent,e={url:null,type:"facebook",txt:null,via:null,count:!1,count_position:"right",apikey:null,media:null,lang:null,total:null},o=t.extend(e,a),s=0,i=this.length,r=0,u=0;return this.each(function(){r++;var a=void 0!=t(this).attr("data-url")&&""!=t(this).attr("data-url")?t(this).attr("data-url"):o.url,e=void 0!=t(this).attr("data-type")&&""!=t(this).attr("data-type")?t(this).attr("data-type"):o.type,c=void 0!=t(this).attr("data-txt")&&""!=t(this).attr("data-txt")?t(this).attr("data-txt"):o.txt,l=void 0!=t(this).attr("data-via")&&""!=t(this).attr("data-via")?t(this).attr("data-via"):o.via,p=void 0!=t(this).attr("data-count")&&""!=t(this).attr("data-count")?t(this).attr("data-count"):o.count,d=void 0!=t(this).attr("data-count-position")&&""!=t(this).attr("data-count-position")?t(this).attr("data-count-position"):o.count_position,h=void 0!=t(this).attr("data-apikey")&&""!=t(this).attr("data-apikey")?t(this).attr("data-apikey"):o.apikey,w=void 0!=t(this).attr("data-media")&&""!=t(this).attr("data-media")?t(this).attr("data-media"):o.media,b=void 0!=t(this).attr("data-lang")&&""!=t(this).attr("data-lang")?t(this).attr("data-lang"):o.lang,g=0,m=0,v="";switch(a=null!=a?a:document.URL,$URL=a,p&&("left"==d?t(this).prepend('<span class="csbuttons-count" />'):t(this).append('<span class="csbuttons-count" />')),e){case"twitter":var x=t(this);g=550,m=420,v=null!=c?"https://twitter.com/intent/tweet?original_referer="+encodeURIComponent(document.URL)+"&text="+encodeURIComponent(c)+"&url="+encodeURIComponent(a):"https://twitter.com/intent/tweet?original_referer="+encodeURIComponent(document.URL)+"&url="+encodeURIComponent(a),v=null!=l?v+"&via="+l:v,p&&(t("span.csbuttons-count",x).text(0),t.getJSON("http://public.newsharecounts.com/count.json?url="+$URL,function(a){t("span.csbuttons-count",x).text(a.count),s+=isNaN(parseInt(a.count))?0:parseInt(a.count),null!=o.total&&r==i&&t(o.total).text(s)}));break;case"google":var f=t(this);u++,g=600,m=600,v="https://plus.google.com/share?url="+a,v=null!=b?v+"&hl="+b:v,p&&(t("span.csbuttons-count",f).text(0),null!=h?t.post("https://clients6.google.com/rpc?key="+h,{method:"pos.plusones.get",id:"p",params:{nolog:!0,id:$URL,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"},function(a){t("span.csbuttons-count",f).text(a.result.metadata.globalCounts.count),s+=isNaN(parseInt(a.result.metadata.globalCounts.count))?0:parseInt(a.result.metadata.globalCounts.count),null!=o.total&&r==i&&t(o.total).text(s)}):(window["gplus"+u]=f,window.services||(window.services={}),window.services.gplus={cb:function(t){window["gplusnb"+u]=""==t?0:t}},t.getJSON("http://share.yandex.ru/gpp.xml?url="+$URL+"&callback=?",function(a){var n=a.replace("/**/ typeof  === 'function' && (\"","");n=n.replace('");',""),t("span.csbuttons-count",f).text(a),s+=isNaN(parseInt(a))?0:parseInt(a),null!=o.total&&r==i&&t(o.total).text(s)})));break;case"linkedin":var k=t(this);g=600,m=213,v="https://www.linkedin.com/cws/share?url="+a,p&&(t("span.csbuttons-count",k).text(0),t.getJSON("http://www.linkedin.com/countserv/count/share?url="+$URL+"&callback=?",function(a){t("span.csbuttons-count",k).text(a.count),s+=isNaN(parseInt(a.count))?0:parseInt(a.count),null!=o.total&&r==i&&t(o.total).text(s)}));break;case"pinterest":var I=t(this);g=1e3,m=617,v="http://www.pinterest.com/pin/create/button/?url="+a,v=null!=w?v+"&media="+w:v,v=null!=c?v+"&description="+c:v,p&&(t("span.csbuttons-count",I).text(0),t.getJSON("https://api.pinterest.com/v1/urls/count.json?url="+$URL+"&callback=?",function(a){t("span.csbuttons-count",I).text(a.count),s+=isNaN(parseInt(a.count))?0:parseInt(a.count),null!=o.total&&r==i&&t(o.total).text(s)}));break;case"whatsapp":v=-1!=n.indexOf("iPhone")||-1!=n.indexOf("Android")?"whatsapp://send?text="+a:"https://web.whatsapp.com/send?text="+a,v=null!=c?v+" "+c:v;break;default:var y=t(this);g=670,m=340,v="https://www.facebook.com/sharer/sharer.php?u="+a,p&&(t("span.csbuttons-count",y).text(0),t.getJSON("http://graph.facebook.com/?id="+$URL,function(a){void 0!=a.share&&(t("span.csbuttons-count",y).text(a.share.share_count),s+=isNaN(parseInt(a.share.share_count))?0:parseInt(a.share.share_count),null!=o.total&&r==i&&t(o.total).text(s))}))}t(this).on("click tap",function(){var t=screen.width/2-g/2,a=screen.height/2-m/2;popupWindow=window.open(v,"popUpWindow","height="+m+",width="+g+",left="+t+",top="+a+",resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=no,directories=no,status=yes")})})}}(jQuery);
